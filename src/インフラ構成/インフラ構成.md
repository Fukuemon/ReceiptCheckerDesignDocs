## 構成図

<img src="./aws.dio.svg" width="1200px">

## クライアントサイド

### S3

SPA コンテンツをホスティング。作成したフロントエンド App を配置する

### CloudFront

S3 に格納されている SPA コンテンツをキャッシュし、ユーザーに近いエッジロケーションから配信。
Certificate Manager から取得した SSL 証明書を利用し、HTTPS による通信を行う。

## サーバーサイド

### API Gateway・Cognito

クライアントのリクエストを受け取り、Lambda 関数にルーティング
Cognito オーソライザーを利用し、ユーザーの認証を行う

### Lambda

FastAPI (mangum) を AWS Lambda で動かす

- 訪問実データの照合処理
  - クライアントから送信された訪問日データをと、GAS 経由で取得した訪問予定データを照合し、結果を返す

### Google Spread Sheet + GAS

職員の名前と Google カレンダーの ID を管理する。
下記の 2 つのエンドポイントを持っている

- 指定された年, 月、開始日, 終了日, 職員の名前を元に、対象のカレンダーの予定を返す
- スプレッドシートに記載されている職員の名前を返す
